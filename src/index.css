@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  /* iOS Safari対応: htmlレベルでスクロールを完全に防止 */
  html {
    overflow: hidden;
    position: fixed;
    width: 100%;
    height: 100%;
  }

  /* 初期レンダリング時の白い画面を防ぐため、bodyに背景色を設定 */
  body {
    margin: 0;
    padding: 0;
    background: linear-gradient(180deg, #0a0a15 0%, #0d0d1a 50%, #050508 100%);
    overflow: hidden;
    width: 100%;
    height: 100%;
    /* iOS Safari対応: position: fixed でスクロールを完全にロック */
    position: fixed;
    /* iOS Safari対応: タッチ操作でのスクロールを無効化 */
    overscroll-behavior: none;
    -webkit-overflow-scrolling: touch;
  }

  /* ルート要素 */
  #root {
    width: 100%;
    height: 100%;
    overflow: hidden;
  }

  /* iOS Safari対応: inputとtextareaのズーム防止とスタイル固定 */
  input,
  textarea {
    -webkit-appearance: none;
    appearance: none;
    /* 16px未満だとiOSでズームが発生するため、最小16pxを確保 */
    font-size: max(16px, 1em);
    /* iOS Safari対応: タッチ操作でのスクロールを防止 */
    touch-action: manipulation;
  }

  /* iOS Safari対応: フォーカス時のスタイル変更を防ぐ */
  input:focus,
  textarea:focus {
    font-size: max(16px, 1em);
  }
}

@layer components {
  /* 紙切れのスタイル - ノートからちぎれた紙のデザイン */
  .paper-scrap {
    min-width: 150px;
    max-width: 200px;
    opacity: 0.9;
    font-family: "Klee One", cursive, sans-serif;
    background:
      linear-gradient(135deg, rgba(255,250,240,0) 0%, rgba(245,222,179,0.1) 25%, rgba(255,250,240,0) 50%, rgba(245,222,179,0.1) 75%, rgba(255,250,240,0) 100%),
      linear-gradient(45deg, rgba(222,184,135,0.05) 0%, transparent 50%, rgba(222,184,135,0.05) 100%),
      radial-gradient(circle at 20% 30%, rgba(245,222,179,0.3) 0%, transparent 40%),
      radial-gradient(circle at 80% 70%, rgba(210,180,140,0.2) 0%, transparent 40%),
      linear-gradient(to bottom, #fff9f0 0%, #fef6e8 50%, #fdf3dc 100%);
    background-blend-mode: overlay, multiply, normal, normal, normal;
    box-shadow:
      inset 0 0 20px rgba(210,180,140,0.2),
      0 8px 32px rgba(0,0,0,0.3);
    transform: translateZ(0); /* GPU加速 */
    border-radius: 0 0 8px 8px;
    /* 上端にギザギザの破れた感じを表現 */
    clip-path: polygon(
      0% 3%, 2% 0%, 4% 2%, 6% 0%, 8% 3%, 10% 1%, 12% 3%, 14% 0%, 16% 2%, 18% 0%,
      20% 3%, 22% 1%, 24% 3%, 26% 0%, 28% 2%, 30% 0%, 32% 3%, 34% 1%, 36% 3%, 38% 0%,
      40% 2%, 42% 0%, 44% 3%, 46% 1%, 48% 3%, 50% 0%, 52% 2%, 54% 0%, 56% 3%, 58% 1%,
      60% 3%, 62% 0%, 64% 2%, 66% 0%, 68% 3%, 70% 1%, 72% 3%, 74% 0%, 76% 2%, 78% 0%,
      80% 3%, 82% 1%, 84% 3%, 86% 0%, 88% 2%, 90% 0%, 92% 3%, 94% 1%, 96% 3%, 98% 0%,
      100% 2%, 100% 100%, 0% 100%
    );
  }
}
